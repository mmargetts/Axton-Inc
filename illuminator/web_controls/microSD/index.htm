<!DOCTYPE html>
<html>
	<img src="logo.png" style="width:200px; margin:0 auto;>
</html>
<!DOCTYPE html>
<html>
    <head>
        <title>Axton IR GUI</title>
        <script>
		strDATA31  = "";
		strDATA33  = "";
		strDATA35  = "";
		strDATA37  = "";
		strDATA39  = "";
		strDATA41  = "";
		strDATA43  = "";
		strDATA45  = "";

		function GetArduinoIO()
		{
			nocache = "&nocache=" + Math.random() * 1000000;
			var request = new XMLHttpRequest();
			request.onreadystatechange = function()
			{
				if (this.readyState == 4) {
					if (this.status == 200) {
						if (this.responseXML != null) {
							// XML file received - contains analog values, switch values and LED states
							// DATA31
							if (this.responseXML.getElementsByTagName('DATA')[0].childNodes[0].nodeValue === "checked") {
								document.DL_form.DATA31.checked = true;
							}
							else {
								document.DL_form.DATA31.checked = false;
							}
							// DATA33
							if (this.responseXML.getElementsByTagName('DATA')[1].childNodes[0].nodeValue === "checked") {
								document.DL_form.DATA33.checked = true;
							}
							else {
								document.DL_form.DATA33.checked = false;
							}
							// DATA35
							if (this.responseXML.getElementsByTagName('DATA')[2].childNodes[0].nodeValue === "checked") {
								document.DL_form.DATA35.checked = true;
							}
							else {
								document.DL_form.DATA35.checked = false;
							}
							// DATA37
							if (this.responseXML.getElementsByTagName('DATA')[3].childNodes[0].nodeValue === "checked") {
								document.DL_form.DATA37.checked = true;
							}
							else {
								document.DL_form.DATA37.checked = false;
							}
							// DATA39
							if (this.responseXML.getElementsByTagName('DATA')[4].childNodes[0].nodeValue === "checked") {
								document.DL_form.DATA39.checked = true;
							}
							else {
								document.DL_form.DATA39.checked = false;
							}
							// DATA41
							if (this.responseXML.getElementsByTagName('DATA')[5].childNodes[0].nodeValue === "checked") {
								document.DL_form.DATA41.checked = true;
							}
							else {
								document.DL_form.DATA41.checked = false;
							}
							// DATA43
							if (this.responseXML.getElementsByTagName('DATA')[6].childNodes[0].nodeValue === "checked") {
								document.DL_form.DATA43.checked = true;
							}
							else {
								document.DL_form.DATA43.checked = false;
							}
							// DATA45
							if (this.responseXML.getElementsByTagName('DATA')[7].childNodes[0].nodeValue === "checked") {
								document.DL_form.DATA45.checked = true;
							}
							else {
								document.DL_form.DATA45.checked = false;
							}
						}
					}
				}
			}
			// send HTTP GET request with LEDs to switch on/off if any
			request.open("GET", "ajax_inputs" + strDATA31 + strDATA33 + strDATA35 + strDATA37 + strDATA39 + strDATA41 + 
			             strDATA43 + strDATA45 + nocache, true);
			request.send(null);
			setTimeout('GetArduinoIO()', 1000);
			strDATA31  = "";
			strDATA33  = "";
			strDATA35  = "";
			strDATA37  = "";
			strDATA39  = "";
			strDATA41  = "";
			strDATA43  = "";
			strDATA45  = "";
		}
		// service DLs when checkbox checked/unchecked
		function GetCheck()
		{
			if (DL_form.DATA31.checked) {
				strDATA31 = "&DATA31=1";
			}
			else {
				strDATA31 = "&DATA31=0";
			}
			if (DL_form.DATA33.checked) {
				strDATA33 = "&DATA33=1";
			}
			else {
				strDATA33 = "&DATA33=0";
			}
			if (DL_form.DATA35.checked) {
				strDATA35 = "&DATA35=1";
			}
			else {
				strDATA35 = "&DATA35=0";
			}
			if (DL_form.DATA37.checked) {
				strDATA37 = "&DATA37=1";
			}
			else {
				strDATA37 = "&DATA37=0";
			}
			if (DL_form.DATA39.checked) {
				strDATA39 = "&DATA39=1";
			}
			else {
				strDATA39 = "&DATA39=0";
			}
			if (DL_form.DATA41.checked) {
				strDATA41 = "&DATA41=1";
			}
			else {
				strDATA41 = "&DATA41=0";
			}
			if (DL_form.DATA43.checked) {
				strDATA43 = "&DATA43=1";
			}
			else {
				strDATA43 = "&DATA43=0";
			}
			if (DL_form.DATA45.checked) {
				strDATA45 = "&DATA45=1";
			}
			else {
				strDATA45 = "&DATA45=0";
			}
		}
		function GetButton1()
		{
			if (LED3_state === 1) {
				LED3_state = 0;
				strLED3 = "&LED3=0";
			}
			else {
				LED3_state = 1;
				strLED3 = "&LED3=1";
			}
		}
		function GetButton2()
		{
			if (LED4_state === 1) {
				LED4_state = 0;
				strLED4 = "&LED4=0";
			}
			else {
				LED4_state = 1;
				strLED4 = "&LED4=1";
			}
		}
	</script>
	<style>
		.IO_box {
			float: left;
			margin: 0 20px 20px 0;
			border: 1px solid blue;
			padding: 0 5px 0 5px;
			width: 120px;
		}
		h1 {
			font-size: 120%;
			color: blue;
			margin: 0 0 10px 0;
		}
		h2 {
			font-size: 85%;
			color: #5734E6;
			margin: 5px 0 5px 0;
		}
		p, form, button {
			font-size: 80%;
			color: #252525;
		}
		.small_text {
			font-size: 70%;
			color: #737373;
		}
	</style>
    </head>
    <body onload="GetArduinoIO()">
        <h1>Axton IR GUI</h1>
		<div class="IO_box" style="width:800px; margin:0 auto;">
			<h2>Data Line Checkboxes</h2>
			<form id="check_DLs" name="DL_form">
				<input type="checkbox" name="DATA31"  value="0" onclick="GetCheck()" />Data 31  <br /><br />
				<input type="checkbox" name="DATA33"  value="0" onclick="GetCheck()" />Data 33  <br /><br />
				<input type="checkbox" name="DATA35"  value="0" onclick="GetCheck()" />Data 35  <br /><br />
				<input type="checkbox" name="DATA37"  value="0" onclick="GetCheck()" />Data 37  <br /><br />
				<input type="checkbox" name="DATA39"  value="0" onclick="GetCheck()" />Data 39  <br /><br />
				<input type="checkbox" name="DATA41"  value="0" onclick="GetCheck()" />Data 41  <br /><br />
				<input type="checkbox" name="DATA43"  value="0" onclick="GetCheck()" />Data 43  <br /><br />
				<input type="checkbox" name="DATA45"  value="0" onclick="GetCheck()" />Data 45  <br /><br />
			</form>
		</div>
    </body>
</html>
